# Logfile created on Fri Nov 02 19:50:51 -0300 2012ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ApplicationController#index (for 127.0.0.1 at 2012-11-02 19:55:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"invoices"}

ActiveRecord::StatementInvalid (Could not find table 'invoices'):
  app/controllers/invoices_controller.rb:3
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (329.5ms)
Rendered rescues/_request_and_response (5.8ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ApplicationController#index (for 127.0.0.1 at 2012-11-02 20:17:52) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}

ActiveRecord::StatementInvalid (Could not find table 'invoices'):
  app/controllers/invoices_controller.rb:3
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (323.0ms)
Rendered rescues/_request_and_response (4.6ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-02 20:33:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"invoices"}
Redirected to http://localhost:3000/login
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 50ms (DB: 1) | 302 Found [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#new (for 127.0.0.1 at 2012-11-02 20:33:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/login
Rendering user_sessions/new
Completed in 273ms (View: 215, DB: 1) | 200 OK [http://localhost/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#create (for 127.0.0.1 at 2012-11-02 20:33:37) [POST]
  Parameters: {"commit"=>"Login", "user_session"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "action"=>"create", "authenticity_token"=>"34eZAfRQzQsmQgCiNLVqCrbXOT3ArDRxIaLELqNEuS4=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".login) = 'admin') LIMIT 1[0m
DEPRECATION WARNING: The :http_only option in ActionController::Response#set_cookie has been renamed. Please use :httponly instead. (called from []= at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/cookies.rb:84)
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "login_count" = 30, "current_login_at" = '2012-11-02 23:33:38', "perishable_token" = 'MiXMHYuTvP250fpf5nKo', "last_login_ip" = '200.123.162.117', "last_request_at" = '2012-11-02 23:33:38', "last_login_at" = '2010-10-04 22:44:14', "current_login_ip" = '127.0.0.1', "updated_at" = '2012-11-02 23:33:38' WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 717ms (DB: 5) | 302 Found [http://localhost/user_session]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-02 20:33:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"invoices"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Update (1.3ms)[0m   [0mUPDATE "users" SET "perishable_token" = 'SfgzjvUnNFso3J9kUfQk', "last_request_at" = '2012-11-02 23:33:39', "updated_at" = '2012-11-02 23:33:39' WHERE "id" = 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoices" [0m
  [4;35;1mInvoice Load (2.6ms)[0m   [0mSELECT "invoices".* FROM "invoices" ORDER BY "invoices"."nro" ASC LIMIT 15 OFFSET 0[0m
  [4;36;1mClient Load (3.0ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" IN (137,178,145)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (41.7ms)
Rendered _list_column_headings (115.7ms)
Rendered _messages (29.6ms)
Rendered _list_messages (212.0ms)
Rendered _list_record_columns (33.1ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 4) [0m
Rendered _list_actions (71.1ms)
Rendered _list_record (140.7ms)
Rendered _list_record_columns (43.0ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 2) [0m
Rendered _list_actions (20.8ms)
Rendered _list_record (66.6ms)
Rendered _list_record_columns (19.2ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 3) [0m
Rendered _list_actions (23.9ms)
Rendered _list_record (45.3ms)
Rendered _list_record_columns (24.4ms)
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_products" WHERE ("invoice_products".invoice_id = 1) [0m
Rendered _list_actions (21.4ms)
Rendered _list_record (49.0ms)
Rendered _list_pagination (3.5ms)
Rendered _list (717.0ms)
Completed in 1172ms (View: 925, DB: 12) | 200 OK [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-02 20:34:06) [GET]
  Parameters: {"preview"=>"true", "action"=>"pdf", "controller"=>"invoices", "id"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "perishable_token" = '4B5XLytkITJy3wLPz', "last_request_at" = '2012-11-02 23:34:06', "updated_at" = '2012-11-02 23:34:06' WHERE "id" = 1[0m
  [4;35;1mInvoice Load (0.8ms)[0m   [0mSELECT * FROM "invoices" WHERE ("invoices"."id" = 2) [0m
  [4;36;1mClient Load (0.9ms)[0m   [0;1mSELECT * FROM "clients" WHERE ("clients"."id" = 137) [0m
  [4;35;1mInvoiceProduct Load (1.2ms)[0m   [0mSELECT * FROM "invoice_products" WHERE ("invoice_products".invoice_id = 2) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `vertical_padding=' for #<Prawn::Table:0x7f5d080c2d00>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `send'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (236.6ms)
Rendered rescues/_request_and_response (3.9ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-12 14:17:47) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
Redirected to http://localhost:3000/login
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 68ms (DB: 16) | 302 Found [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#new (for 127.0.0.1 at 2012-11-12 14:17:47) [GET]
  Parameters: {"controller"=>"user_sessions", "action"=>"new"}
Rendering template within layouts/login
Rendering user_sessions/new
Completed in 288ms (View: 205, DB: 1) | 200 OK [http://localhost/login]
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
/!\ FAILSAFE /!\  Mon Nov 12 14:23:21 -0300 2012
  Status: 500 Internal Server Error
  no such file to load -- mysql
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `require'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `require'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `require'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/requires.rb:7:in `require_library_or_gem'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/reporting.rb:11:in `silence_warnings'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/requires.rb:5:in `require_library_or_gem'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/mysql_adapter.rb:61:in `mysql_connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/lock.rb:11:in `synchronize'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/diego/.rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rack-1.1.3/lib/rack/handler/webrick.rb:14:in `run'
    /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/rails-2.3.14/lib/commands/server.rb:111
    script/server:3:in `require'
    script/server:3
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2012-11-12 16:18:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/login
Rendering user_sessions/new
Completed in 154ms (View: 74, DB: 6) | 200 OK [http://localhost/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2012-11-12 16:18:49) [POST]
  Parameters: {"action"=>"create", "controller"=>"user_sessions", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "user_session"=>{"password"=>"[FILTERED]", "remember_me"=>"0", "login"=>"admin"}, "commit"=>"Login"}
  [4;35;1mUser Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'admin') LIMIT 1[0m
DEPRECATION WARNING: The :http_only option in ActionController::Response#set_cookie has been renamed. Please use :httponly instead. (called from []= at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/cookies.rb:84)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_login_at` = '2010-10-04 22:44:14', `last_request_at` = '2012-11-12 19:18:50', `updated_at` = '2012-11-12 19:18:50', `current_login_at` = '2012-11-12 19:18:50', `perishable_token` = '45EqLCa527bxUKzWRAvk', `login_count` = 30, `current_login_ip` = '127.0.0.1', `last_login_ip` = '200.123.162.117' WHERE `id` = 1[0m
  [4;35;1mSQL (49.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 811ms (DB: 56) | 302 Found [http://localhost/user_session]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mInvoice Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `invoices`[0m
  [4;36;1mClient Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-12 16:18:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"invoices"}
  [4;35;1mUser Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 19:18:51', `updated_at` = '2012-11-12 19:18:51', `perishable_token` = 'Rqd9X4hns2Q7L5iitESW' WHERE `id` = 1[0m
  [4;35;1mSQL (148.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoices` [0m
  [4;35;1mInvoice Load (1.0ms)[0m   [0mSELECT `invoices`.* FROM `invoices` ORDER BY `invoices`.`nro` ASC LIMIT 0, 15[0m
  [4;36;1mClient Load (1.0ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` IN (178,145,137)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (19.4ms)
Rendered _list_column_headings (90.2ms)
Rendered _messages (3.0ms)
Rendered _list_messages (33.6ms)
Rendered _list_record_columns (36.0ms)
  [4;35;1mInvoiceProduct Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `invoice_products`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _list_actions (75.9ms)
Rendered _list_record (316.9ms)
Rendered _list_record_columns (39.0ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
Rendered _list_actions (26.1ms)
Rendered _list_record (68.1ms)
Rendered _list_record_columns (24.8ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
Rendered _list_actions (21.1ms)
Rendered _list_record (48.1ms)
Rendered _list_record_columns (29.4ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
Rendered _list_actions (23.0ms)
Rendered _list_record (54.6ms)
Rendered _list_pagination (4.5ms)
Rendered _list (689.8ms)
Completed in 1087ms (View: 846, DB: 171) | 200 OK [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mProduct Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m


Processing ProductsController#index (for 127.0.0.1 at 2012-11-12 16:19:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 19:19:03', `updated_at` = '2012-11-12 19:19:03', `perishable_token` = 'mHibUknIg94HpoDy2cv' WHERE `id` = 1[0m
  [4;36;1mSQL (137.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `products` [0m
  [4;36;1mProduct Load (1.7ms)[0m   [0;1mSELECT `products`.* FROM `products` ORDER BY `products`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (17.4ms)
Rendered _list_column_headings (27.7ms)
Rendered _messages (3.3ms)
Rendered _list_messages (28.8ms)
Rendered _list_record_columns (6.3ms)
Rendered _list_actions (44.4ms)
Rendered _list_record (86.1ms)
Rendered _list_record_columns (4.4ms)
Rendered _list_actions (13.2ms)
Rendered _list_record (47.5ms)
Rendered _list_record_columns (5.2ms)
Rendered _list_actions (22.8ms)
Rendered _list_record (30.7ms)
Rendered _list_record_columns (7.0ms)
Rendered _list_actions (14.6ms)
Rendered _list_record (24.7ms)
Rendered _list_record_columns (6.4ms)
Rendered _list_actions (14.6ms)
Rendered _list_record (23.8ms)
Rendered _list_record_columns (4.4ms)
Rendered _list_actions (16.6ms)
Rendered _list_record (23.8ms)
Rendered _list_record_columns (4.2ms)
Rendered _list_actions (18.4ms)
Rendered _list_record (25.3ms)
Rendered _list_record_columns (6.9ms)
Rendered _list_actions (13.1ms)
Rendered _list_record (23.4ms)
Rendered _list_record_columns (5.5ms)
Rendered _list_actions (12.0ms)
Rendered _list_record (20.0ms)
Rendered _list_record_columns (4.6ms)
Rendered _list_actions (12.6ms)
Rendered _list_record (19.4ms)
Rendered _list_record_columns (3.9ms)
Rendered _list_actions (12.4ms)
Rendered _list_record (18.4ms)
Rendered _list_record_columns (6.3ms)
Rendered _list_actions (18.2ms)
Rendered _list_record (27.7ms)
Rendered _list_record_columns (6.4ms)
Rendered _list_actions (14.4ms)
Rendered _list_record (23.9ms)
Rendered _list_record_columns (3.9ms)
Rendered _list_actions (12.8ms)
Rendered _list_record (19.1ms)
Rendered _list_record_columns (6.6ms)
Rendered _list_actions (12.4ms)
Rendered _list_record (21.9ms)
Rendered _list_pagination_links (79.3ms)
Rendered _list_pagination (100.6ms)
Rendered _list (833.6ms)
Completed in 1206ms (View: 950, DB: 149) | 200 OK [http://localhost/products]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mProduct Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m


Processing ProductsController#new (for 127.0.0.1 at 2012-11-12 16:19:07) [GET]
  Parameters: {"adapter"=>"_list_inline_adapter", "action"=>"new", "_method"=>"get", "controller"=>"products"}
  [4;35;1mUser Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 19:19:07', `updated_at` = '2012-11-12 19:19:07', `perishable_token` = 'f1gbKZBoFTbsBNXC8Cyk' WHERE `id` = 1[0m
  [4;35;1mSQL (31.7ms)[0m   [0mCOMMIT[0m
Rendered _form_attribute (6.9ms)
Rendered _form_attribute (4.0ms)
Rendered _form (47.7ms)
Rendered _create_form (101.7ms)
Rendered _messages (2.7ms)
Rendered _list_inline_adapter (19.4ms)
Completed in 295ms (View: 32, DB: 0) | 200 OK [http://localhost/products/new?_method=get&adapter=_list_inline_adapter]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mProduct Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m


Processing ProductsController#create (for 127.0.0.1 at 2012-11-12 16:19:16) [POST]
  Parameters: {"record"=>{"price"=>"444", "name"=>"test"}, "action"=>"create", "_"=>"", "controller"=>"products", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "commit"=>"Crear"}
  [4;36;1mUser Columns (4.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 19:19:16', `updated_at` = '2012-11-12 19:19:16', `perishable_token` = 'BilJie9EZwB88pVXhHn' WHERE `id` = 1[0m
  [4;36;1mSQL (44.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'test') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'test') LIMIT 1[0m
  [4;36;1mProduct Create (0.6ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `price`, `name`, `updated_at`) VALUES('2012-11-12 19:19:16', 444.0, 'test', '2012-11-12 19:19:16')[0m
  [4;35;1mSQL (46.4ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (6.5ms)
Rendered _list_actions (39.1ms)
Rendered _list_record (72.7ms)
Rendered _messages (5.5ms)
Completed in 374ms (View: 170, DB: 102) | 200 OK [http://localhost/products]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.8.7-p370/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mProduct Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m


Processing ProductsController#destroy (for 127.0.0.1 at 2012-11-12 16:19:22) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "_"=>"", "controller"=>"products", "id"=>"85", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E="}
  [4;36;1mUser Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 19:19:22', `updated_at` = '2012-11-12 19:19:22', `perishable_token` = 'Fd0Ge8ojPiZxxGQ5mSF' WHERE `id` = 1[0m
  [4;36;1mSQL (53.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 85) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Destroy (0.7ms)[0m   [0mDELETE FROM `products` WHERE `id` = 85[0m
  [4;36;1mSQL (34.4ms)[0m   [0;1mCOMMIT[0m
Rendering destroy
Rendered _messages (3.0ms)
Completed in 267ms (View: 76, DB: 100) | 200 OK [http://localhost/products/85?_method=delete&authenticity_token=twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E%3D]
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)
/!\ FAILSAFE /!\  2012-11-12 19:12:27 -0300
  Status: 500 Internal Server Error
  cannot load such file -- mysql
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `require'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `block in require'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/dependencies.rb:182:in `require'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/requires.rb:7:in `block in require_library_or_gem'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/reporting.rb:11:in `silence_warnings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/kernel/requires.rb:5:in `require_library_or_gem'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/mysql_adapter.rb:61:in `mysql_connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `block (2 levels) in checkout'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `block in checkout'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `block in call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `block in call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ApplicationController#index (for 127.0.0.1 at 2012-11-12 19:16:04) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}

SyntaxError (/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/bridges/calendar_date_select/lib/as_cds_bridge.rb:53: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...endar_date_select_javascripts :locale => I18n.locale ]
...                               ^
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/bridges/calendar_date_select/lib/as_cds_bridge.rb:53: syntax error, unexpected ']', expecting keyword_end
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/bridges/calendar_date_select/lib/as_cds_bridge.rb:57: module definition in method body
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/bridges/calendar_date_select/lib/as_cds_bridge.rb:58: module definition in method body
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/bridges/calendar_date_select/lib/as_cds_bridge.rb:87: syntax error, unexpected $end, expecting keyword_end):
  app/controllers/invoices_controller.rb:3:in `<class:InvoicesController>'
  app/controllers/invoices_controller.rb:1:in `<top (required)>'
  <internal:prelude>:10:in `synchronize'
  /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (108.1ms)
Rendered rescues/_request_and_response (23.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-12 19:19:45) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:19:45', `perishable_token` = 'AYh8Mhh8rBGvCISertYw', `updated_at` = '2012-11-12 22:19:45' WHERE `id` = 1[0m
  [4;35;1mSQL (48.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoices` [0m
  [4;35;1mInvoice Load (1.1ms)[0m   [0mSELECT `invoices`.* FROM `invoices` ORDER BY `invoices`.`nro` ASC LIMIT 0, 15[0m
  [4;36;1mClient Load (12.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` IN (178,137,145)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (17.4ms)
Rendered _list_column_headings (46.9ms)
Rendered _messages (2.8ms)
Rendered _list_messages (40.0ms)
Rendered _list_record_columns (26.8ms)
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _list_actions (66.8ms)
Rendered _list_record (241.9ms)
Rendered _list_record_columns (28.1ms)
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
Rendered _list_actions (16.8ms)
Rendered _list_record (47.5ms)
Rendered _list_record_columns (21.2ms)
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
Rendered _list_actions (18.2ms)
Rendered _list_record (41.2ms)
Rendered _list_record_columns (14.5ms)
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
Rendered _list_actions (11.9ms)
Rendered _list_record (27.9ms)
Rendered _list_pagination (5.0ms)
Rendered _list (568.1ms)
Completed in 1032ms (View: 733, DB: 71) | 200 OK [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ProductsController#index (for 127.0.0.1 at 2012-11-12 19:19:55) [GET]
  Parameters: {"controller"=>"products", "action"=>"index"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:19:56', `perishable_token` = 'vkFs32XDFYSuTkg3W6A', `updated_at` = '2012-11-12 22:19:56' WHERE `id` = 1[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `products` [0m
  [4;36;1mProduct Load (1.5ms)[0m   [0;1mSELECT `products`.* FROM `products` ORDER BY `products`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (13.2ms)
Rendered _list_column_headings (109.8ms)
Rendered _messages (3.0ms)
Rendered _list_messages (40.1ms)
Rendered _list_record_columns (8.2ms)
Rendered _list_actions (44.5ms)
Rendered _list_record (106.1ms)
Rendered _list_record_columns (5.8ms)
Rendered _list_actions (7.8ms)
Rendered _list_record (15.7ms)
Rendered _list_record_columns (4.6ms)
Rendered _list_actions (9.8ms)
Rendered _list_record (16.3ms)
Rendered _list_record_columns (3.0ms)
Rendered _list_actions (5.3ms)
Rendered _list_record (10.8ms)
Rendered _list_record_columns (4.8ms)
Rendered _list_actions (6.2ms)
Rendered _list_record (13.2ms)
Rendered _list_record_columns (3.5ms)
Rendered _list_actions (8.2ms)
Rendered _list_record (13.6ms)
Rendered _list_record_columns (7.9ms)
Rendered _list_actions (8.9ms)
Rendered _list_record (19.1ms)
Rendered _list_record_columns (4.8ms)
Rendered _list_actions (7.5ms)
Rendered _list_record (14.6ms)
Rendered _list_record_columns (5.1ms)
Rendered _list_actions (6.4ms)
Rendered _list_record (13.4ms)
Rendered _list_record_columns (2.8ms)
Rendered _list_actions (5.3ms)
Rendered _list_record (9.4ms)
Rendered _list_record_columns (2.7ms)
Rendered _list_actions (4.9ms)
Rendered _list_record (9.1ms)
Rendered _list_record_columns (4.3ms)
Rendered _list_actions (5.4ms)
Rendered _list_record (11.5ms)
Rendered _list_record_columns (3.1ms)
Rendered _list_actions (5.0ms)
Rendered _list_record (9.4ms)
Rendered _list_record_columns (2.7ms)
Rendered _list_actions (7.3ms)
Rendered _list_record (11.3ms)
Rendered _list_record_columns (4.7ms)
Rendered _list_actions (7.3ms)
Rendered _list_record (13.8ms)
Rendered _list_pagination_links (15.3ms)
Rendered _list_pagination (43.1ms)
Rendered _list (612.9ms)
Completed in 1238ms (View: 742, DB: 47) | 200 OK [http://localhost/products]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ProductsController#new (for 127.0.0.1 at 2012-11-12 19:19:59) [GET]
  Parameters: {"_method"=>"get", "adapter"=>"_list_inline_adapter", "controller"=>"products", "action"=>"new"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:19:59', `perishable_token` = 'go3qP40vNXp4YWex3l64', `updated_at` = '2012-11-12 22:19:59' WHERE `id` = 1[0m
  [4;36;1mSQL (32.1ms)[0m   [0;1mCOMMIT[0m
Rendered _form_attribute (6.3ms)
Rendered _form_attribute (2.7ms)
Rendered _form (50.9ms)
Rendered _create_form (100.0ms)
Rendered _messages (2.8ms)
Rendered _list_inline_adapter (38.5ms)
Completed in 687ms (View: 60, DB: 0) | 200 OK [http://localhost/products/new?_method=get&adapter=_list_inline_adapter]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ProductsController#create (for 127.0.0.1 at 2012-11-12 19:20:08) [POST]
  Parameters: {"authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"rtest", "price"=>"776567"}, "commit"=>"Crear", "_"=>"", "controller"=>"products", "action"=>"create"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:20:08', `perishable_token` = 'EYEgOmoMIedZxyYK98xc', `updated_at` = '2012-11-12 22:20:08' WHERE `id` = 1[0m
  [4;36;1mSQL (233.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'rtest') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'rtest') LIMIT 1[0m
  [4;36;1mProduct Create (0.6ms)[0m   [0;1mINSERT INTO `products` (`name`, `created_at`, `updated_at`, `price`) VALUES('rtest', '2012-11-12 22:20:08', '2012-11-12 22:20:08', 776567.0)[0m
  [4;35;1mSQL (40.0ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (85.3ms)
Rendered _list_actions (36.1ms)
Rendered _list_record (178.2ms)
Rendered _messages (4.2ms)
Completed in 981ms (View: 292, DB: 278) | 200 OK [http://localhost/products]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#index (for 127.0.0.1 at 2012-11-12 19:20:14) [GET]
  Parameters: {"controller"=>"clients", "action"=>"index"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:20:15', `perishable_token` = 'LV4NoTjmRdO5uifLxsdh', `updated_at` = '2012-11-12 22:20:15' WHERE `id` = 1[0m
  [4;35;1mSQL (40.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clients` [0m
  [4;35;1mClient Load (3.2ms)[0m   [0mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (13.7ms)
Rendered _list_column_headings (51.4ms)
Rendered _messages (4.3ms)
Rendered _list_messages (39.8ms)
Rendered _list_record_columns (16.2ms)
Rendered _list_actions (35.3ms)
Rendered _list_record (105.0ms)
Rendered _list_record_columns (19.4ms)
Rendered _list_actions (7.1ms)
Rendered _list_record (28.6ms)
Rendered _list_record_columns (20.1ms)
Rendered _list_actions (6.7ms)
Rendered _list_record (28.5ms)
Rendered _list_record_columns (10.3ms)
Rendered _list_actions (8.0ms)
Rendered _list_record (19.7ms)
Rendered _list_record_columns (17.7ms)
Rendered _list_actions (4.9ms)
Rendered _list_record (24.3ms)
Rendered _list_record_columns (13.4ms)
Rendered _list_actions (5.4ms)
Rendered _list_record (20.5ms)
Rendered _list_record_columns (9.7ms)
Rendered _list_actions (7.1ms)
Rendered _list_record (18.3ms)
Rendered _list_record_columns (10.3ms)
Rendered _list_actions (5.5ms)
Rendered _list_record (17.1ms)
Rendered _list_record_columns (12.9ms)
Rendered _list_actions (7.3ms)
Rendered _list_record (21.7ms)
Rendered _list_record_columns (15.9ms)
Rendered _list_actions (5.3ms)
Rendered _list_record (23.0ms)
Rendered _list_record_columns (11.4ms)
Rendered _list_actions (5.5ms)
Rendered _list_record (18.6ms)
Rendered _list_record_columns (13.3ms)
Rendered _list_actions (5.0ms)
Rendered _list_record (19.8ms)
Rendered _list_record_columns (10.5ms)
Rendered _list_actions (6.3ms)
Rendered _list_record (18.0ms)
Rendered _list_record_columns (12.8ms)
Rendered _list_actions (7.9ms)
Rendered _list_record (22.7ms)
Rendered _list_record_columns (17.5ms)
Rendered _list_actions (6.4ms)
Rendered _list_record (25.7ms)
Rendered _list_pagination_links (18.9ms)
Rendered _list_pagination (47.6ms)
Rendered _list (755.9ms)
Completed in 1056ms (View: 889, DB: 48) | 200 OK [http://localhost/clients]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#edit (for 127.0.0.1 at 2012-11-12 19:20:20) [GET]
  Parameters: {"_method"=>"get", "adapter"=>"_list_inline_adapter", "controller"=>"clients", "action"=>"edit", "id"=>"179"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:20:20', `perishable_token` = 'wnKUoe7sUBVRybVxO52', `updated_at` = '2012-11-12 22:20:20' WHERE `id` = 1[0m
  [4;35;1mSQL (55.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mClient Load (0.9ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
Rendered _form_attribute (5.7ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.8ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (1.7ms)
Rendered _form (77.0ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form (23.3ms)
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (2.3ms)
Rendered _form (27.1ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.9ms)
Rendered _form (17.7ms)
Rendered _form (160.5ms)
Rendered _update_form (214.3ms)
Rendered _messages (2.8ms)
Rendered _list_inline_adapter (114.0ms)
Completed in 628ms (View: 144, DB: 0) | 200 OK [http://localhost/clients/179/edit?_method=get&adapter=_list_inline_adapter]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#update (for 127.0.0.1 at 2012-11-12 19:20:33) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"diego", "nombre_fantasia"=>"diegol", "cuit"=>"32423412341", "condicion_venta"=>"", "descuento10"=>"0", "descuento20"=>"0", "ri"=>"0", "direccion"=>"", "cp"=>"", "localidad"=>"", "provincia"=>"", "remito_direccion"=>"", "remito_cp"=>"", "remito_localidad"=>"", "remito_provincia"=>"", "email"=>"", "tel_fax"=>"", "observaciones"=>""}, "commit"=>"Actualizar", "_"=>"", "controller"=>"clients", "action"=>"update", "id"=>"179"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:20:33', `perishable_token` = 'OWwtFNQrPf7SOGQTT8', `updated_at` = '2012-11-12 22:20:33' WHERE `id` = 1[0m
  [4;36;1mSQL (55.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (2.2ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mClient Load (1.3ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '32423412341' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (6.7ms)
Rendered _form_attribute (2.3ms)
Rendered _form_attribute (4.2ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.8ms)
Rendered _form (79.3ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (2.9ms)
Rendered _form (108.0ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (2.3ms)
Rendered _form_attribute (1.8ms)
Rendered _form (27.8ms)
Rendered _form_attribute (3.4ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (1.8ms)
Rendered _form (24.0ms)
Rendered _form (250.3ms)
Rendered _update_form (329.7ms)
Rendered _messages (2.9ms)
Completed in 700ms (View: 434, DB: 63) | 200 OK [http://localhost/clients/179]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#update (for 127.0.0.1 at 2012-11-12 19:20:49) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"diego", "nombre_fantasia"=>"diegol", "cuit"=>"3242341234", "condicion_venta"=>"", "descuento10"=>"0", "descuento20"=>"0", "ri"=>"0", "direccion"=>"", "cp"=>"", "localidad"=>"", "provincia"=>"", "remito_direccion"=>"", "remito_cp"=>"", "remito_localidad"=>"", "remito_provincia"=>"", "email"=>"", "tel_fax"=>"", "observaciones"=>""}, "commit"=>"Actualizar", "_"=>"", "controller"=>"clients", "action"=>"update", "id"=>"179"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:20:49', `perishable_token` = '1vwzCQ5UMuFizsrogV69', `updated_at` = '2012-11-12 22:20:49' WHERE `id` = 1[0m
  [4;35;1mSQL (118.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mClient Load (1.3ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '3242341234' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (5.9ms)
Rendered _form_attribute (3.2ms)
Rendered _form_attribute (6.1ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form (160.4ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.9ms)
Rendered _form (23.4ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.8ms)
Rendered _form (23.3ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.8ms)
Rendered _form_attribute (2.0ms)
Rendered _form (23.4ms)
Rendered _form (240.6ms)
Rendered _update_form (311.1ms)
Rendered _messages (2.7ms)
Completed in 654ms (View: 416, DB: 123) | 200 OK [http://localhost/clients/179?_=]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#update (for 127.0.0.1 at 2012-11-12 19:21:00) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"diego", "nombre_fantasia"=>"diegol", "cuit"=>"32-4234123-4", "condicion_venta"=>"", "descuento10"=>"0", "descuento20"=>"0", "ri"=>"0", "direccion"=>"", "cp"=>"", "localidad"=>"", "provincia"=>"", "remito_direccion"=>"", "remito_cp"=>"", "remito_localidad"=>"", "remito_provincia"=>"", "email"=>"", "tel_fax"=>"", "observaciones"=>""}, "commit"=>"Actualizar", "_"=>"", "controller"=>"clients", "action"=>"update", "id"=>"179"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:21:00', `perishable_token` = 'uDhwIYX0XfXZIeVLYPPf', `updated_at` = '2012-11-12 22:21:00' WHERE `id` = 1[0m
  [4;36;1mSQL (42.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mClient Load (1.9ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '32-4234123-4' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (5.5ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (4.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (3.0ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.7ms)
Rendered _form (74.5ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form (23.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form (23.2ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (2.3ms)
Rendered _form_attribute (1.7ms)
Rendered _form (17.7ms)
Rendered _form (151.5ms)
Rendered _update_form (223.6ms)
Rendered _messages (2.6ms)
Completed in 565ms (View: 404, DB: 48) | 200 OK [http://localhost/clients/179?_=]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#update (for 127.0.0.1 at 2012-11-12 19:21:10) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"diego", "nombre_fantasia"=>"diegol", "cuit"=>"32-425534123-4", "condicion_venta"=>"", "descuento10"=>"0", "descuento20"=>"0", "ri"=>"0", "direccion"=>"", "cp"=>"", "localidad"=>"", "provincia"=>"", "remito_direccion"=>"", "remito_cp"=>"", "remito_localidad"=>"", "remito_provincia"=>"", "email"=>"", "tel_fax"=>"", "observaciones"=>""}, "commit"=>"Actualizar", "_"=>"", "controller"=>"clients", "action"=>"update", "id"=>"179"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:21:10', `perishable_token` = 'xuZR8XVn6dVhcnMZ3yr', `updated_at` = '2012-11-12 22:21:10' WHERE `id` = 1[0m
  [4;35;1mSQL (38.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mClient Load (1.3ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '32-425534123-4' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (5.6ms)
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (4.5ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.8ms)
Rendered _form (75.0ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (1.7ms)
Rendered _form (24.6ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form (26.0ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.9ms)
Rendered _form (17.1ms)
Rendered _form (154.4ms)
Rendered _update_form (222.0ms)
Rendered _messages (2.8ms)
Completed in 634ms (View: 407, DB: 44) | 200 OK [http://localhost/clients/179?_=]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing ClientsController#update (for 127.0.0.1 at 2012-11-12 19:21:29) [PUT]
  Parameters: {"_method"=>"put", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"name"=>"diego", "nombre_fantasia"=>"diegol", "cuit"=>"20-29654886-4", "condicion_venta"=>"", "descuento10"=>"0", "descuento20"=>"0", "ri"=>"0", "direccion"=>"", "cp"=>"", "localidad"=>"", "provincia"=>"", "remito_direccion"=>"", "remito_cp"=>"", "remito_localidad"=>"", "remito_provincia"=>"", "email"=>"", "tel_fax"=>"", "observaciones"=>""}, "commit"=>"Actualizar", "_"=>"", "controller"=>"clients", "action"=>"update", "id"=>"179"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:21:30', `perishable_token` = 'VMJdAjDjwLEdHmoyUzhk', `updated_at` = '2012-11-12 22:21:30' WHERE `id` = 1[0m
  [4;36;1mSQL (113.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 179) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mClient Load (1.5ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '20-29654886-4' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `clients`.id FROM `clients` WHERE (`clients`.`name` = BINARY 'diego' AND `clients`.id <> 179) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `clients`.id FROM `clients` WHERE (`clients`.`cuit` = BINARY '20-29654886-4' AND `clients`.id <> 179) LIMIT 1[0m
  [4;35;1mClient Update (1.0ms)[0m   [0mUPDATE `clients` SET `name` = 'diego', `nombre_fantasia` = 'diegol', `cuit` = '20-29654886-4', `updated_at` = '2012-11-12 22:21:30' WHERE `id` = 179[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _list_record_columns (14.7ms)
Rendered _list_actions (29.9ms)
Rendered _list_record (94.7ms)
Rendered _messages (4.6ms)
Completed in 502ms (View: 207, DB: 163) | 200 OK [http://localhost/clients/179?_=]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-12 19:21:48) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:21:48', `perishable_token` = 'GADjzmMxrC3Jq5McRzk', `updated_at` = '2012-11-12 22:21:48' WHERE `id` = 1[0m
  [4;36;1mSQL (147.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `invoices` [0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT `invoices`.* FROM `invoices` ORDER BY `invoices`.`nro` ASC LIMIT 0, 15[0m
  [4;35;1mClient Load (1.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` IN (178,137,145)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (13.2ms)
Rendered _list_column_headings (134.6ms)
Rendered _messages (3.9ms)
Rendered _list_messages (41.9ms)
Rendered _list_record_columns (25.2ms)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _list_actions (35.3ms)
Rendered _list_record (118.7ms)
Rendered _list_record_columns (25.2ms)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
Rendered _list_actions (13.7ms)
Rendered _list_record (41.4ms)
Rendered _list_record_columns (24.7ms)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
Rendered _list_actions (14.6ms)
Rendered _list_record (41.4ms)
Rendered _list_record_columns (14.5ms)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
Rendered _list_actions (11.8ms)
Rendered _list_record (28.0ms)
Rendered _list_pagination (5.5ms)
Rendered _list (528.1ms)
Completed in 960ms (View: 671, DB: 154) | 200 OK [http://localhost/invoices]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#new (for 127.0.0.1 at 2012-11-12 19:21:53) [GET]
  Parameters: {"_method"=>"get", "adapter"=>"_list_inline_adapter", "controller"=>"invoices", "action"=>"new"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:21:53', `perishable_token` = '4b4w3P46FZopxj66YSOH', `updated_at` = '2012-11-12 22:21:53' WHERE `id` = 1[0m
  [4;35;1mSQL (38.5ms)[0m   [0mCOMMIT[0m
Rendered _form_attribute (7.7ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.7ms)
client
as_invoices-create--form
  [4;36;1mClient Load (3.8ms)[0m   [0;1mSELECT * FROM `clients` [0m
Rendered _form_attribute (143.0ms)
Rendered _form_attribute (3.1ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (3.0ms)
Rendered _form_attribute (1.7ms)
Rendered _horizontal_subform_header (53.1ms)
Rendered invoices/_form_association_footer (1.6ms)
Rendered _horizontal_subform (105.7ms)
Rendered invoices/_form_association (162.1ms)
Rendered _form (600.2ms)
Rendered _create_form (649.1ms)
Rendered _messages (2.6ms)
Rendered _list_inline_adapter (110.5ms)
Completed in 975ms (View: 136, DB: 0) | 200 OK [http://localhost/invoices/new?_method=get&adapter=_list_inline_adapter]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#render_field (for 127.0.0.1 at 2012-11-12 19:22:02) [GET]
  Parameters: {"column"=>"client", "update_column"=>["has_descuento_10", "has_descuento_20", "condicion_venta"], "value"=>"50", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "controller"=>"invoices", "action"=>"render_field"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:02', `perishable_token` = 'MoSkzr3fH06VQXgzo7kv', `updated_at` = '2012-11-12 22:22:02' WHERE `id` = 1[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mClient Load (0.9ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
Rendering render_field
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
Rendered _form_attribute (7.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
Rendered _form_attribute (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
Rendered _form_attribute (2.9ms)
Rendered _render_fields (130.8ms)
Completed in 345ms (View: 202, DB: 45) | 200 OK [http://localhost/invoices/render_field?column=client&update_column%5B%5D=has_descuento_10&update_column%5B%5D=has_descuento_20&update_column%5B%5D=condicion_venta&value=50&authenticity_token=twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E%3D]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#edit_associated (for 127.0.0.1 at 2012-11-12 19:22:12) [GET]
  Parameters: {"association"=>"invoice_products", "controller"=>"invoices", "action"=>"edit_associated"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:13', `perishable_token` = 'zUiKOwxCE9h0EkkjrM0R', `updated_at` = '2012-11-12 22:22:13' WHERE `id` = 1[0m
  [4;36;1mSQL (44.1ms)[0m   [0;1mCOMMIT[0m
Rendering edit_associated
Rendered _form_attribute (6.5ms)
product
as_invoices-create--form
  [4;35;1mProduct Load (1.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendered _form_attribute (63.5ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.0ms)
Rendered _horizontal_subform_record (208.1ms)
Completed in 462ms (View: 323, DB: 48) | 200 OK [http://localhost/invoices/edit_associated?association=invoice_products]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoiceProductsController#render_field (for 127.0.0.1 at 2012-11-12 19:22:16) [GET]
  Parameters: {"column"=>"product", "scope"=>"[invoice_products][1352758933126]", "update_column"=>["price"], "value"=>"40", "authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "controller"=>"invoice_products", "action"=>"render_field"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:16', `perishable_token` = 'oAhNp2WzUCSHnBcIGmtR', `updated_at` = '2012-11-12 22:22:16' WHERE `id` = 1[0m
  [4;35;1mSQL (115.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mProduct Load (1.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoice_products/render_field
"product"
lokking for product
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered _form_attribute (15.1ms)
Rendered _render_fields (49.2ms)
Completed in 462ms (View: 166, DB: 119) | 200 OK [http://localhost/invoice_products/render_field?column=product&scope=%5Binvoice_products%5D%5B1352758933126%5D&update_column%5B%5D=price&value=40&authenticity_token=twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E%3D]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#create (for 127.0.0.1 at 2012-11-12 19:22:21) [POST]
  Parameters: {"authenticity_token"=>"twixXXyIB0kS7vwKcMIyHyZq3WgA8RFHs15AoMAab0E=", "record"=>{"date"=>"22/11/2012", "nro"=>"35", "remito_nro"=>"345", "client"=>"50", "has_descuento_10"=>"0", "has_descuento_20"=>"0", "iva_percent"=>"21.0", "condicion_venta"=>"", "invoice_products"=>{"1352758933126"=>{"quantity"=>"1", "product"=>"40", "price"=>"21.0", "total"=>"21.00", "description"=>""}}}, "commit"=>"Crear", "_"=>"", "controller"=>"invoices", "action"=>"create"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:21', `perishable_token` = 'ZSaTgMZInT6jP4kNnXH', `updated_at` = '2012-11-12 22:22:21' WHERE `id` = 1[0m
  [4;35;1mSQL (139.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;35;1mInvoice Load (0.8ms)[0m   [0mSELECT `invoices`.id FROM `invoices` WHERE (`invoices`.`nro` = BINARY '35') LIMIT 1[0m
  [4;36;1mInvoice Load (0.7ms)[0m   [0;1mSELECT `invoices`.id FROM `invoices` WHERE (`invoices`.`remito_nro` = BINARY '345') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `invoices`.id FROM `invoices` WHERE (`invoices`.`nro` = BINARY '35') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `invoices`.id FROM `invoices` WHERE (`invoices`.`remito_nro` = BINARY '345') LIMIT 1[0m
  [4;35;1mInvoice Create (0.7ms)[0m   [0mINSERT INTO `invoices` (`date`, `nro`, `remito_nro`, `details`, `client_id`, `created_at`, `updated_at`, `has_descuento_10`, `has_descuento_20`, `iva_percent`, `condicion_venta`, `subtotal`) VALUES('2012-11-22', '35', '345', NULL, 50, '2012-11-12 22:22:21', '2012-11-12 22:22:21', 0, 0, 21.0, NULL, 21.0)[0m
  [4;36;1mInvoiceProduct Create (0.7ms)[0m   [0;1mINSERT INTO `invoice_products` (`quantity`, `price`, `invoice_id`, `product_id`, `created_at`, `updated_at`, `description`, `total`) VALUES(1, 21.0, 5, 40, '2012-11-12 22:22:21', '2012-11-12 22:22:21', NULL, 21.0)[0m
  [4;35;1mSQL (33.0ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (21.1ms)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
Rendered _list_actions (46.1ms)
Rendered _list_record (117.6ms)
Rendered _messages (4.1ms)
Completed in 813ms (View: 319, DB: 181) | 200 OK [http://localhost/invoices]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:22:25) [GET]
  Parameters: {"_"=>"", "preview"=>"true", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:25', `perishable_token` = 'zPkddKg7fxWzNyqNyk0', `updated_at` = '2012-11-12 22:22:25' WHERE `id` = 1[0m
  [4;35;1mSQL (59.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.8ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd7349e4720>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (109.8ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:22:51) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:22:51', `perishable_token` = 'wSqKbr3WYBZPvGrmron', `updated_at` = '2012-11-12 22:22:51' WHERE `id` = 1[0m
  [4;35;1mSQL (30.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.5ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd734897818>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (104.8ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:24:37) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:24:37', `perishable_token` = 'GvyTOFOgb3dHniO56K9v', `updated_at` = '2012-11-12 22:24:37' WHERE `id` = 1[0m
  [4;35;1mSQL (138.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.8ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf
ERROR: compiling _run_prawn_app47views47invoices47pdf46pdf46prawn RAISED /home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected tASSOC
          font_size:  => 9, 
                        ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:18: syntax error, unexpected ',', expecting keyword_end
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:19: syntax error, unexpected ',', expecting keyword_end
Function body: #coding:UTF-8
          def _run_prawn_app47views47invoices47pdf46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);unless @invoice.nro.nil?
  2.times do
    pdf.start_new_page
    pdf.font "Courier", :size => 9
    if @debug
      pdf.image RAILS_ROOT + '/public/images/factura.jpg', :at => [pdf.bounds.top_left]
    end

    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @factura_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]

    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.table @products,
          font_size:  => 9, 
          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
          :horizontal_padding => 10,
          :vertical_padding   => 3,
          :border_width       => 0
    end
    pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
      pdf.table @totals,
          :font_size  => 9, 
          :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
          :align              => {0 => :right, 1 => :right, 2 => :right},
          :horizontal_padding => 15,
          :vertical_padding   => 5,
          :border_width       => 0
    end
  end
end

unless @invoice.remito_nro.nil?
  3.times do
    pdf.start_new_page
    if @debug
      pdf.image RAILS_ROOT + '/public/images/remito.jpg', :at => [pdf.bounds.top_left]
    end
    
    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @remito_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
    
    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.table @remito_products,
          :font_size  => 9, 
          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
          :horizontal_padding => 10,
          :vertical_padding   => 3,
          :border_width       => 0
    end
    
  end
end  

pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `module_eval'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `compile!'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:61:in `compile'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:28:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:94:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/template.rb:205:in `render_template'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/base.rb:265:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1252:in `render_for_file'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:936:in `render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1328:in `default_render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1334:in `perform_action'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:617:in `call_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/diego/proyectos/americanbar/vendor/plugins/render_component/lib/components.rb:39:in `perform_action_with_render_component'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:391:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:386:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/routing/route_set.rb:438:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:121:in `_call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/head.rb:9:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/methodoverride.rb:24:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/params_parser.rb:15:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/session/abstract_store.rb:177:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected tASSOC
          font_size:  => 9, 
                        ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:18: syntax error, unexpected ',', expecting keyword_end
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:19: syntax error, unexpected ',', expecting keyword_end) on line #17 of app/views/invoices/pdf.pdf.prawn:
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           font_size:  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
20:           :horizontal_padding => 10,

    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (96.1ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:25:08) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:25:08', `perishable_token` = 'TigbfhJRTaK2aWaTXPik', `updated_at` = '2012-11-12 22:25:08' WHERE `id` = 1[0m
  [4;35;1mSQL (40.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd734889d08>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (113.1ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:28:13) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:28:13', `perishable_token` = 'aFxh1USzVdsIVgJcoCSI', `updated_at` = '2012-11-12 22:28:13' WHERE `id` = 1[0m
  [4;35;1mSQL (51.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.6ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x00000002fb6588>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9,
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (111.2ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:28:34) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:28:34', `perishable_token` = '8qW0kKhQEatdoQzZmm6z', `updated_at` = '2012-11-12 22:28:34' WHERE `id` = 1[0m
  [4;35;1mSQL (74.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd7349d6b48>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products, :font_size  => 9, :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
17:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
18:           :horizontal_padding => 10,
19:           :vertical_padding   => 3,

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (211.5ms)
Rendered rescues/_request_and_response (2.9ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:29:05) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:29:05', `perishable_token` = 'iFd5sk1oXl0rSboRlg2G', `updated_at` = '2012-11-12 22:29:05' WHERE `id` = 1[0m
  [4;35;1mSQL (75.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (4.9ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (2.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x000000038f5fb8>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9,
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (159.9ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:29:46) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:29:46', `perishable_token` = 'TQv4IypOpQ8sWKTTGhV', `updated_at` = '2012-11-12 22:29:46' WHERE `id` = 1[0m
  [4;35;1mSQL (47.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (5.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd734a3c998>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           :font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (114.2ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:31:27) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:31:27', `perishable_token` = 'BDebzeKQpUnewul2tGtN', `updated_at` = '2012-11-12 22:31:27' WHERE `id` = 1[0m
  [4;35;1mSQL (148.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.5ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd7346916b8>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           {:font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (107.6ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:34:59) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:34:59', `perishable_token` = 'riGCCH2S0XBgPRzgamZ', `updated_at` = '2012-11-12 22:34:59' WHERE `id` = 1[0m
  [4;35;1mSQL (47.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `{:font_size=>9, :column_widths=>{0=>60, 1=>348, 2=>70, 3=>90}, :align=>{0=>:right, 1=>:left, 2=>:right, 3=>:right}, :horizontal_padding=>10, :vertical_padding=>3, :border_width=>0}=' for #<Prawn::Table:0x000000032ce068>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:          [:font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (148.1ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:35:22) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:35:22', `perishable_token` = 'kh3oI5JScUUf4daZAUF4', `updated_at` = '2012-11-12 22:35:22' WHERE `id` = 1[0m
  [4;35;1mSQL (49.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (data must be a two dimensional array of cellable objects) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table [@products,
19:          [:font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:394:in `assert_proper_table_data'
    prawn (0.12.0) lib/prawn/table.rb:364:in `make_cells'
    prawn (0.12.0) lib/prawn/table.rb:122:in `initialize'
    prawn (0.12.0) lib/prawn/table/cell.rb:123:in `new'
    prawn (0.12.0) lib/prawn/table/cell.rb:123:in `make'
    prawn (0.12.0) lib/prawn/table.rb:373:in `block (2 levels) in make_cells'
    prawn (0.12.0) lib/prawn/table.rb:372:in `each'
    prawn (0.12.0) lib/prawn/table.rb:372:in `each_with_index'
    prawn (0.12.0) lib/prawn/table.rb:372:in `block in make_cells'
    prawn (0.12.0) lib/prawn/table.rb:371:in `each'
    prawn (0.12.0) lib/prawn/table.rb:371:in `each_with_index'
    prawn (0.12.0) lib/prawn/table.rb:371:in `make_cells'
    prawn (0.12.0) lib/prawn/table.rb:122:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (122.8ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:35:42) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:35:42', `perishable_token` = 'NfYE6ofveVhSGOlbADeI', `updated_at` = '2012-11-12 22:35:42' WHERE `id` = 1[0m
  [4;35;1mSQL (131.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (data must be a two dimensional array of cellable objects) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table [@products,
19:          :font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:394:in `assert_proper_table_data'
    prawn (0.12.0) lib/prawn/table.rb:364:in `make_cells'
    prawn (0.12.0) lib/prawn/table.rb:122:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (108.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:36:07) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:36:07', `perishable_token` = '1QOinBVYOSj6TIqdaxY', `updated_at` = '2012-11-12 22:36:07' WHERE `id` = 1[0m
  [4;35;1mSQL (33.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd7349c51b8>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           :font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (112.4ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:37:14) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:37:15', `perishable_token` = 'Qgc9tbw0yHQhiN1iFvaZ', `updated_at` = '2012-11-12 22:37:15' WHERE `id` = 1[0m
  [4;35;1mSQL (60.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x000000031726b0>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           'font_size'  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (109.6ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:37:24) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:37:24', `perishable_token` = 'xEumz1F1aDFPpvM6e4A9', `updated_at` = '2012-11-12 22:37:24' WHERE `id` = 1[0m
  [4;35;1mSQL (37.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined local variable or method `font_size' for #<ActionView::Base:0x00000002fb4e18>) on line #19 of app/views/invoices/pdf.pdf.prawn:
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
22:           :horizontal_padding => 10,

    app/views/invoices/pdf.pdf.prawn:19:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (109.6ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:37:37) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:37:37', `perishable_token` = 'vpYv8xK2r2MawF7ncWW', `updated_at` = '2012-11-12 22:37:37' WHERE `id` = 1[0m
  [4;35;1mSQL (108.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd7280046a8>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           :font_size  => 9,
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:4:in `times'
    app/views/invoices/pdf.pdf.prawn:4:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (109.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:44:50) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:44:50', `perishable_token` = 'wE2tP7g7g7yvLlQorx5A', `updated_at` = '2012-11-12 22:44:50' WHERE `id` = 1[0m
  [4;35;1mSQL (54.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fd6c47b32f0>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (113.8ms)
Rendered rescues/_request_and_response (17.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-12 19:45:04) [GET]
  Parameters: {"_"=>"", "controller"=>"invoices", "action"=>"pdf", "id"=>"5"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-12 22:45:04', `perishable_token` = 'ujxMSOq5wJ98VYxfwMx', `updated_at` = '2012-11-12 22:45:04' WHERE `id` = 1[0m
  [4;35;1mSQL (36.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 5) [0m
  [4;35;1mClient Load (1.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 50) [0m
  [4;36;1mInvoiceProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x0000000292f778>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (108.2ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-13 21:38:32) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
Redirected to http://localhost:3000/login
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 667ms (DB: 323) | 302 Found [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#new (for 127.0.0.1 at 2012-11-13 21:38:33) [GET]
  Parameters: {"controller"=>"user_sessions", "action"=>"new"}
Rendering template within layouts/login
Rendering user_sessions/new
Completed in 640ms (View: 112, DB: 1) | 200 OK [http://localhost/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#create (for 127.0.0.1 at 2012-11-13 21:38:55) [POST]
  Parameters: {"authenticity_token"=>"6w2PrR9NIA4oTlwOZtoQ8PYfgrRC85VKHWw/QDz9TlQ=", "user_session"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login", "controller"=>"user_sessions", "action"=>"create"}
  [4;36;1mUser Load (71.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'admin') LIMIT 1[0m
DEPRECATION WARNING: The :http_only option in ActionController::Response#set_cookie has been renamed. Please use :httponly instead. (called from []= at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/cookies.rb:84)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (40.8ms)[0m   [0;1mUPDATE `users` SET `login_count` = 31, `last_login_at` = '2012-11-12 19:18:50', `current_login_at` = '2012-11-14 00:38:55', `last_login_ip` = '127.0.0.1', `last_request_at` = '2012-11-14 00:38:55', `perishable_token` = 'pki99DI63IlnZCJCuRkp', `updated_at` = '2012-11-14 00:38:55' WHERE `id` = 1[0m
  [4;35;1mSQL (74.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 712ms (DB: 188) | 302 Found [http://localhost/user_session]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-13 21:38:57) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.5ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-14 00:38:57', `perishable_token` = 'AnHL4zeUI5l3mXFmLbaG', `updated_at` = '2012-11-14 00:38:57' WHERE `id` = 1[0m
  [4;35;1mSQL (80.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (60.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoices` [0m
  [4;35;1mInvoice Load (15.5ms)[0m   [0mSELECT `invoices`.* FROM `invoices` ORDER BY `invoices`.`nro` ASC LIMIT 0, 15[0m
  [4;36;1mClient Load (2.7ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` IN (178,137,50,145)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (20.4ms)
Rendered _list_column_headings (47.0ms)
Rendered _messages (3.4ms)
Rendered _list_messages (42.4ms)
Rendered _list_record_columns (30.2ms)
  [4;35;1mSQL (19.6ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _list_actions (87.5ms)
Rendered _list_record (180.5ms)
Rendered _list_record_columns (26.5ms)
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
Rendered _list_actions (19.8ms)
Rendered _list_record (48.4ms)
Rendered _list_record_columns (23.7ms)
  [4;35;1mSQL (13.5ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
Rendered _list_actions (28.6ms)
Rendered _list_record (54.4ms)
Rendered _list_record_columns (19.5ms)
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
Rendered _list_actions (10.5ms)
Rendered _list_record (31.3ms)
Rendered _list_record_columns (23.0ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
Rendered _list_actions (12.6ms)
Rendered _list_record (37.1ms)
Rendered _list_pagination (23.5ms)
Rendered _list (688.5ms)
Completed in 1328ms (View: 880, DB: 207) | 200 OK [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:39:02) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (18.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:39:02', `perishable_token` = 'fRySNAKefChugeIsdy', `updated_at` = '2012-11-14 00:39:02' WHERE `id` = 1[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.8ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (1.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.9ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (8.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (1.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (3.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007f16a87387f8>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (197.0ms)
Rendered rescues/_request_and_response (7.8ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:41:09) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (26.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:41:09', `perishable_token` = 'RWob0RgieeJZAGyYJ90n', `updated_at` = '2012-11-14 00:41:09' WHERE `id` = 1[0m
  [4;36;1mSQL (82.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf
ERROR: compiling _run_prawn_app47views47invoices47pdf46pdf46prawn RAISED /home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:63: syntax error, unexpected keyword_ensure, expecting keyword_end
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:65: syntax error, unexpected $end, expecting keyword_end
Function body: #coding:UTF-8
          def _run_prawn_app47views47invoices47pdf46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);unless @invoice.nro.nil?
  2.times do
    pdf.start_new_page
    pdf.font "Courier", :size => 9
    if @debug
      pdf.image RAILS_ROOT + '/public/images/factura.jpg', :at => [pdf.bounds.top_left]
    end

    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @factura_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]

    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
#      pdf.table @products,
#          :font_size  => 9, 
#          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
#          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
#          :horizontal_padding => 10,
#          :vertical_padding   => 3,
#          :border_width       => 0
#    end
    pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
      pdf.table @totals,
          :font_size  => 9, 
          :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
          :align              => {0 => :right, 1 => :right, 2 => :right},
          :horizontal_padding => 15,
          :vertical_padding   => 5,
          :border_width       => 0
    end
  end
end

unless @invoice.remito_nro.nil?
  3.times do
    pdf.start_new_page
    if @debug
      pdf.image RAILS_ROOT + '/public/images/remito.jpg', :at => [pdf.bounds.top_left]
    end
    
    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @remito_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
    
    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.table @remito_products,
          :font_size  => 9, 
          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
          :horizontal_padding => 10,
          :vertical_padding   => 3,
          :border_width       => 0
    end
    
  end
end  

pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `module_eval'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `compile!'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:61:in `compile'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:28:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:94:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/template.rb:205:in `render_template'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/base.rb:265:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1252:in `render_for_file'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:936:in `render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1328:in `default_render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1334:in `perform_action'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:617:in `call_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/diego/proyectos/americanbar/vendor/plugins/render_component/lib/components.rb:39:in `perform_action_with_render_component'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:391:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:386:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/routing/route_set.rb:438:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:121:in `_call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/head.rb:9:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/methodoverride.rb:24:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/params_parser.rb:15:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/session/abstract_store.rb:177:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:63: syntax error, unexpected keyword_ensure, expecting keyword_end
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:65: syntax error, unexpected $end, expecting keyword_end) on line #63 of app/views/invoices/pdf.pdf.prawn:
60: end  

    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (100.8ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:41:52) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (36.0ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:41:52', `perishable_token` = 'NEmdWfPSJAM8oncR1QC', `updated_at` = '2012-11-14 00:41:52' WHERE `id` = 1[0m
  [4;36;1mSQL (72.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.9ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #25 of app/views/invoices/pdf.pdf.prawn:
22: #          :border_width       => 0
23:     end
24:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
25:       pdf.table @totals,
26:           :font_size  => 9, 
27:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
28:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:25:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:24:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (133.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:42:16) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (23.7ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:42:16', `perishable_token` = 'hiGMCnmJon3NwcTM3M25', `updated_at` = '2012-11-14 00:42:16' WHERE `id` = 1[0m
  [4;36;1mSQL (48.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.7ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #25 of app/views/invoices/pdf.pdf.prawn:
22: #          :border_width       => 0
23: #    end
24:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
25:       pdf.table @totals,
26:           :font_size  => 9, 
27:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
28:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:25:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:24:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (136.5ms)
Rendered rescues/_request_and_response (4.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:43:08) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (22.7ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:43:08', `perishable_token` = 'BHrxJ8clKBz9fgg5pQX', `updated_at` = '2012-11-14 00:43:08' WHERE `id` = 1[0m
  [4;36;1mSQL (309.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (1.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf
Completed in 831ms (View: 177, DB: 338) | 200 OK [http://localhost/invoices/pdf/4]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:43:50) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (16.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:43:50', `perishable_token` = 'O11dxnNuo5hZE6bqMqR', `updated_at` = '2012-11-14 00:43:50' WHERE `id` = 1[0m
  [4;36;1mSQL (91.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x00000003b0cf40>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (120.1ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-13 21:50:55) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"4"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (36.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 00:50:55', `perishable_token` = 'oAiu4ezR99XACzrnwn', `updated_at` = '2012-11-14 00:50:55' WHERE `id` = 1[0m
  [4;36;1mSQL (62.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x00000003d0e528>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           {:font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (117.3ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-14 19:02:54) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
Redirected to http://localhost:3000/login
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 106ms (DB: 1) | 302 Found [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#new (for 127.0.0.1 at 2012-11-14 19:02:54) [GET]
  Parameters: {"controller"=>"user_sessions", "action"=>"new"}
Rendering template within layouts/login
Rendering user_sessions/new
Completed in 515ms (View: 104, DB: 1) | 200 OK [http://localhost/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing UserSessionsController#create (for 127.0.0.1 at 2012-11-14 19:03:05) [POST]
  Parameters: {"authenticity_token"=>"F9VQ5iZ9hE4bWbD01U8PV7ipE2uHhJ07IAsSIufjnHA=", "user_session"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login", "controller"=>"user_sessions", "action"=>"create"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.login) = 'admin') LIMIT 1[0m
DEPRECATION WARNING: The :http_only option in ActionController::Response#set_cookie has been renamed. Please use :httponly instead. (called from []= at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/cookies.rb:84)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE `users` SET `login_count` = 32, `last_login_at` = '2012-11-14 00:38:55', `current_login_at` = '2012-11-14 22:03:05', `last_request_at` = '2012-11-14 22:03:05', `perishable_token` = 'sJjcBRQQ3nrKbhhwRZR', `updated_at` = '2012-11-14 22:03:05' WHERE `id` = 1[0m
  [4;35;1mSQL (60.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 505ms (DB: 63) | 302 Found [http://localhost/user_session]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#index (for 127.0.0.1 at 2012-11-14 19:03:06) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"index"}
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-14 22:03:06', `perishable_token` = 'blnrJVR3NseLY76fbeK', `updated_at` = '2012-11-14 22:03:06' WHERE `id` = 1[0m
  [4;35;1mSQL (66.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoices` [0m
  [4;35;1mInvoice Load (1.1ms)[0m   [0mSELECT `invoices`.* FROM `invoices` ORDER BY `invoices`.`nro` ASC LIMIT 0, 15[0m
  [4;36;1mClient Load (1.0ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` IN (178,137,50,145)) [0m
Rendering template within layouts/crud
Rendering list
Rendered _list_header (24.2ms)
Rendered _list_column_headings (39.2ms)
Rendered _messages (3.3ms)
Rendered _list_messages (67.9ms)
Rendered _list_record_columns (27.3ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _list_actions (52.5ms)
Rendered _list_record (133.8ms)
Rendered _list_record_columns (24.6ms)
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
Rendered _list_actions (16.2ms)
Rendered _list_record (50.0ms)
Rendered _list_record_columns (19.6ms)
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 3) [0m
Rendered _list_actions (11.4ms)
Rendered _list_record (32.3ms)
Rendered _list_record_columns (17.3ms)
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 5) [0m
Rendered _list_actions (12.9ms)
Rendered _list_record (31.8ms)
Rendered _list_record_columns (16.3ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 1) [0m
Rendered _list_actions (10.4ms)
Rendered _list_record (28.1ms)
Rendered _list_pagination (3.6ms)
Rendered _list (602.3ms)
Completed in 1053ms (View: 849, DB: 78) | 200 OK [http://localhost/]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:03:38) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:03:38', `perishable_token` = 'suIVwSV87shxODX6viQ', `updated_at` = '2012-11-14 22:03:38' WHERE `id` = 1[0m
  [4;36;1mSQL (57.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.9ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.9ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.9ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x0000000371a450>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (111.8ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:13:28) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.5ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:13:28', `perishable_token` = 'ayO7l36RvxB3uUZTI4w', `updated_at` = '2012-11-14 22:13:28' WHERE `id` = 1[0m
  [4;36;1mSQL (59.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fe78c88a628>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table( @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (102.8ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:14:02) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:14:02', `perishable_token` = '6cA6Acg6ePZ51SjPnev', `updated_at` = '2012-11-14 22:14:02' WHERE `id` = 1[0m
  [4;36;1mSQL (64.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fe78c3bf5d0>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table( @products,
17:           'font_size'  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (108.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:15:49) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:15:49', `perishable_token` = 'GV2S33vQoQ9RcEhuGQQ', `updated_at` = '2012-11-14 22:15:49' WHERE `id` = 1[0m
  [4;36;1mSQL (63.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #25 of app/views/invoices/pdf.pdf.prawn:
22:           #:border_width       => 0)
23:     end
24:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
25:       pdf.table @totals,
26:           :font_size  => 9, 
27:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
28:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:25:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:24:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (113.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:16:09) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:16:09', `perishable_token` = 'eTzO1f6uIWimWycBG0Bi', `updated_at` = '2012-11-14 22:16:09' WHERE `id` = 1[0m
  [4;36;1mSQL (67.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #25 of app/views/invoices/pdf.pdf.prawn:
22:           #:border_width       => 0)
23:     end
24:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
25:       pdf.table @totals,
26:           :font_size  => 9, 
27:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
28:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:25:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:24:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (110.5ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:16:35) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:16:35', `perishable_token` = 'zd32iA64kAQLR7pg5yu7', `updated_at` = '2012-11-14 22:16:35' WHERE `id` = 1[0m
  [4;36;1mSQL (64.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #19 of app/views/invoices/pdf.pdf.prawn:
16:       pdf.table @products 
17:     end
18:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
19:       pdf.table @totals,
20:           :font_size  => 9, 
21:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
22:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:19:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:18:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (116.2ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:26:18) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:26:18', `perishable_token` = '8PB8D7AdGVbEtSpXYcHX', `updated_at` = '2012-11-14 22:26:18' WHERE `id` = 1[0m
  [4;36;1mSQL (63.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #19 of app/views/invoices/pdf.pdf.prawn:
16:       pdf.table @products 
17:     end
18:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
19:       pdf.table @totals,
20:           :font_size  => 9, 
21:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
22:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:19:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:18:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (126.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:26:32) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:26:32', `perishable_token` = 'aQBw4uTJYmkdhy5cn0t8', `updated_at` = '2012-11-14 22:26:32' WHERE `id` = 1[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x00000003321628>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (105.6ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:41:57) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:41:57', `perishable_token` = 'Rsq6ineibD6tdCwcaRGu', `updated_at` = '2012-11-14 22:41:57' WHERE `id` = 1[0m
  [4;36;1mSQL (164.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (1.3ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x000000037ad250>) on line #14 of app/views/invoices/pdf.pdf.prawn:
11:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
12: 
13:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
14:       pdf.table @products,
15:           :font_size  => 9, 
16:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
17:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:14:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:13:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (133.3ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:42:40) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:42:40', `perishable_token` = 'ELkB1ID7MaMC8AapCA', `updated_at` = '2012-11-14 22:42:40' WHERE `id` = 1[0m
  [4;36;1mSQL (104.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x00000003485140>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table @products,
19:           :font_size  => 9, 
20:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
21:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (117.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:43:10) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:43:10', `perishable_token` = 'hNedxkW7xgvvfhxBB5J', `updated_at` = '2012-11-14 22:43:10' WHERE `id` = 1[0m
  [4;36;1mSQL (58.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 494ms (View: 192, DB: 63) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:44:10) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:44:10', `perishable_token` = '6SYrPELJEXVFkxmcF5I', `updated_at` = '2012-11-14 22:44:10' WHERE `id` = 1[0m
  [4;36;1mSQL (109.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x000000036c2890>) on line #19 of app/views/invoices/pdf.pdf.prawn:
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table(data, :column_widths => [100, 200, 240])
19:       pdf.table @products,
20:           :font_size  => 9, 
21:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
22:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:19:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (110.9ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:44:42) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:44:43', `perishable_token` = 'OX5UJgbYUOX3UBGMdX1', `updated_at` = '2012-11-14 22:44:43' WHERE `id` = 1[0m
  [4;36;1mSQL (174.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.6ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 606ms (View: 196, DB: 178) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:45:01) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:45:01', `perishable_token` = 'atZsu8aowLR57VVJkOX', `updated_at` = '2012-11-14 22:45:01' WHERE `id` = 1[0m
  [4;36;1mSQL (47.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 471ms (View: 241, DB: 55) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:45:39) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:45:39', `perishable_token` = '1U8yu09MIRACTPNrez0', `updated_at` = '2012-11-14 22:45:39' WHERE `id` = 1[0m
  [4;36;1mSQL (158.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.6ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.7ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table(@products, :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 })
19:     end
20: 
21: #      pdf.table @products,

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (117.1ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:46:16) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:46:16', `perishable_token` = 'VAXBLQgdX9eav1L6NbIR', `updated_at` = '2012-11-14 22:46:16' WHERE `id` = 1[0m
  [4;36;1mSQL (223.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007fe78c8c5070>) on line #18 of app/views/invoices/pdf.pdf.prawn:
15:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.table(@products, :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }, :font_size  => 9)
19:     end
20: 
21: #      pdf.table @products,

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:18:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (117.4ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:47:23) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:47:23', `perishable_token` = 'z50AXpKOnIz8vnStrTwS', `updated_at` = '2012-11-14 22:47:23' WHERE `id` = 1[0m
  [4;36;1mSQL (64.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.6ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.7ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (3.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 488ms (View: 231, DB: 73) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:48:11) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:48:12', `perishable_token` = '4dtBXMek1PYlrazv3S7', `updated_at` = '2012-11-14 22:48:12' WHERE `id` = 1[0m
  [4;36;1mSQL (149.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 463ms (View: 154, DB: 154) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:48:48) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:48:48', `perishable_token` = '6sixm4tB4Rb9Af7az', `updated_at` = '2012-11-14 22:48:48' WHERE `id` = 1[0m
  [4;36;1mSQL (80.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
ERROR: compiling _run_prawn_app47views47invoices47pdf46pdf46prawn RAISED /home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:21: syntax error, unexpected tASSOC, expecting keyword_end
          :column_widths => [100, 200, 240]
                           ^
Function body: #coding:UTF-8
          def _run_prawn_app47views47invoices47pdf46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);data = [ ["this is not quite as long as the others",
"here we have a line that is long but with smaller words",
"this is so very looooooooooooooooooooooooooooooong"] ]

    pdf.start_new_page
    pdf.font "Courier", :size => 9
    if @debug
      pdf.image RAILS_ROOT + '/public/images/factura.jpg', :at => [pdf.bounds.top_left]
    end

    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @factura_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]

    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.font "Courier", :size => 9
      pdf.table @products,
          :border_width       => 0 
          :column_widths => [100, 200, 240]
    end

#      pdf.table @products,
#          :font_size  => 9, 
#          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
#          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
#          :horizontal_padding => 10,
#          :vertical_padding   => 3,
#          :border_width       => 0


pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `module_eval'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `compile!'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:61:in `compile'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:28:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:94:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/template.rb:205:in `render_template'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/base.rb:265:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1252:in `render_for_file'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:936:in `render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1328:in `default_render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1334:in `perform_action'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:617:in `call_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/diego/proyectos/americanbar/vendor/plugins/render_component/lib/components.rb:39:in `perform_action_with_render_component'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:391:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:386:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/routing/route_set.rb:438:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:121:in `_call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/head.rb:9:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/methodoverride.rb:24:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/params_parser.rb:15:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/session/abstract_store.rb:177:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:21: syntax error, unexpected tASSOC, expecting keyword_end
          :column_widths => [100, 200, 240]
                           ^) on line #21 of app/views/invoices/pdf.pdf.prawn:
18:       pdf.font "Courier", :size => 9
19:       pdf.table @products,
20:           :border_width       => 0 
21:           :column_widths => [100, 200, 240]
22:     end
23: 
24: #      pdf.table @products,

    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (106.6ms)
Rendered rescues/_request_and_response (9.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:49:08) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:49:08', `perishable_token` = 'mmtrbbOkenB3VqkoZqD', `updated_at` = '2012-11-14 22:49:08' WHERE `id` = 1[0m
  [4;36;1mSQL (53.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (1.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `border_width=' for #<Prawn::Table:0x000000039de768>) on line #19 of app/views/invoices/pdf.pdf.prawn:
16: 
17:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
18:       pdf.font "Courier", :size => 9
19:       pdf.table @products,
20:           :border_width       => 0, 
21:           :column_widths => [100, 200, 240]
22:     end

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:19:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:17:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (118.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:58:17) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:58:17', `perishable_token` = 'SsTS4peXxtAhwejTQVf', `updated_at` = '2012-11-14 22:58:17' WHERE `id` = 1[0m
  [4;36;1mSQL (56.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.7ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `align=' for #<Prawn::Table:0x007fe78c723dc0>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :border_width => 0, :size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right}

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `block in initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:130:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (115.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 19:59:32) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 22:59:32', `perishable_token` = 'Du4u0yUCZQjz8yWV7hTW', `updated_at` = '2012-11-14 22:59:32' WHERE `id` = 1[0m
  [4;36;1mSQL (317.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (2.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (109.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:01:41) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:01:41', `perishable_token` = 'atWZDKg89h8VUy8wuvc', `updated_at` = '2012-11-14 23:01:41' WHERE `id` = 1[0m
  [4;36;1mSQL (53.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 1, 10, 1, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (157.7ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:02:46) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:02:46', `perishable_token` = 'J7NPqa3cZC6sKBecgMT', `updated_at` = '2012-11-14 23:02:46' WHERE `id` = 1[0m
  [4;36;1mSQL (171.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 3, 5, 3, 5]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (113.7ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:04:25) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:04:25', `perishable_token` = 'dpYL3z23hlIzEPpn1vle', `updated_at` = '2012-11-14 23:04:25' WHERE `id` = 1[0m
  [4;36;1mSQL (69.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (1.2ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (4.6ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (6.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
ERROR: compiling _run_prawn_app47views47invoices47pdf46pdf46prawn RAISED /home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected ':', expecting '}'
...style => { :borders => [:top] :align => {0 => :right, 1 => :...
...                               ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected ',', expecting keyword_end
...eft, 2 => :right, 3 => :right},:border_width => 0, :size => ...
...                               ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected '}', expecting keyword_end
...9, :padding => [ 3, 10, 3, 10]},
...                               ^
Function body: #coding:UTF-8
          def _run_prawn_app47views47invoices47pdf46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);unless @invoice.nro.nil?
  2.times do
    pdf.start_new_page
    pdf.font "Courier", :size => 9
    if @debug
      pdf.image RAILS_ROOT + '/public/images/factura.jpg', :at => [pdf.bounds.top_left]
    end

    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @factura_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]

    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.table @products,
          :cell_style => { :borders => [:top] :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 3, 10, 3, 10]},
          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
          
    end
    pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
      pdf.table @totals,
          :font_size  => 9, 
          :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
          :align              => {0 => :right, 1 => :right, 2 => :right},
          :horizontal_padding => 15,
          :vertical_padding   => 5,
          :border_width       => 0
    end
  end
end

unless @invoice.remito_nro.nil?
  3.times do
    pdf.start_new_page
    if @debug
      pdf.image RAILS_ROOT + '/public/images/remito.jpg', :at => [pdf.bounds.top_left]
    end
    
    pdf.draw_text "BS.AS. #{@invoice.date.strftime('%d/%m/%y')}", :at => [410,pdf.bounds.top-46]
    pdf.text_box @remito_header, :width => 300, :at => [80,pdf.bounds.top-114]
    pdf.text_box "Cliente Nº "+@invoice.client.id.to_s, :width => 130, :at => [450,pdf.bounds.top-114]
    pdf.draw_text @invoice.condicion_iva, :at => [70,pdf.bounds.top-167]
    pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
    
    pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
      pdf.table @remito_products,
          :font_size  => 9, 
          :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
          :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},
          :horizontal_padding => 10,
          :vertical_padding   => 3,
          :border_width       => 0
    end
    
  end
end  

pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `module_eval'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:91:in `compile!'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:61:in `compile'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/renderable.rb:28:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:94:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/template.rb:205:in `render_template'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_view/base.rb:265:in `render'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1252:in `render_for_file'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:936:in `render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/diego/proyectos/americanbar/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render_with_active_scaffold'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1328:in `default_render'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:1334:in `perform_action'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:617:in `call_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/diego/proyectos/americanbar/vendor/plugins/render_component/lib/components.rb:39:in `perform_action_with_render_component'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:391:in `process'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/base.rb:386:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/routing/route_set.rb:438:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:121:in `_call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/head.rb:9:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/methodoverride.rb:24:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/params_parser.rb:15:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/session/abstract_store.rb:177:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/lock.rb:11:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:47:in `block in call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `each'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/urlmap.rb:41:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/content_length.rb:13:in `call'
/home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/rack-1.1.3/lib/rack/handler/webrick.rb:48:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected ':', expecting '}'
...style => { :borders => [:top] :align => {0 => :right, 1 => :...
...                               ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected ',', expecting keyword_end
...eft, 2 => :right, 3 => :right},:border_width => 0, :size => ...
...                               ^
/home/diego/proyectos/americanbar/app/views/invoices/pdf.pdf.prawn:17: syntax error, unexpected '}', expecting keyword_end
...9, :padding => [ 3, 10, 3, 10]},
...                               ^) on line #17 of app/views/invoices/pdf.pdf.prawn:
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :borders => [:top] :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           
20:     end

    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (166.5ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:04:40) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:04:40', `perishable_token` = '4TTEwrc6eZkFCkVqkW4Z', `updated_at` = '2012-11-14 23:04:40' WHERE `id` = 1[0m
  [4;36;1mSQL (145.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :borders => [:top], :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:border_width => 0, :size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (127.4ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:12:46) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (43.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (24.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:12:46', `perishable_token` = 'dNbffwRHL9p6GpczHueR', `updated_at` = '2012-11-14 23:12:46' WHERE `id` = 1[0m
  [4;36;1mSQL (178.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.5ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :borders => [], :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 340, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:300:in `draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:144:in `block in format_and_draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:239:in `apply_font_size'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:164:in `block in apply_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:212:in `character_spacing'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:157:in `apply_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:137:in `apply_color_and_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:143:in `format_and_draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:86:in `block in print_line'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:84:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:84:in `print_line'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:52:in `wrap'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:258:in `block (4 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:96:in `font_size'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:251:in `block (3 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:194:in `text_rendering_mode'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:242:in `block (2 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:212:in `character_spacing'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:241:in `block in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:116:in `save_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:240:in `render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/box.rb:134:in `render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:59:in `block in natural_content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:95:in `block in with_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:116:in `save_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:89:in `with_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:57:in `natural_content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:224:in `content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:214:in `height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:155:in `block in height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:153:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:153:in `height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `block in row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `map'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:454:in `set_row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:137:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (182.4ms)
Rendered rescues/_request_and_response (31.1ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:13:21) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (54.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:13:21', `perishable_token` = 'Nm2b0LaczczNcCY3vp', `updated_at` = '2012-11-14 23:13:21' WHERE `id` = 1[0m
  [4;36;1mSQL (109.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.5ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :border_width => 0, :align => {0 => :right, 1 => :left, 2 => :right, 3 => :right},:size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 340, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:300:in `draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:144:in `block in format_and_draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:239:in `apply_font_size'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:164:in `block in apply_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:212:in `character_spacing'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:157:in `apply_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/arranger.rb:137:in `apply_color_and_font_settings'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:143:in `format_and_draw_fragment'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:86:in `block in print_line'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:84:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:84:in `print_line'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text/formatted/wrap.rb:52:in `wrap'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:258:in `block (4 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:96:in `font_size'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:251:in `block (3 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:194:in `text_rendering_mode'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:242:in `block (2 levels) in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/core/text.rb:212:in `character_spacing'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:241:in `block in render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:116:in `save_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/formatted/box.rb:240:in `render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/text/box.rb:134:in `render'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:59:in `block in natural_content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:95:in `block in with_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/font.rb:116:in `save_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:89:in `with_font'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell/text.rb:57:in `natural_content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:224:in `content_height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:214:in `height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:155:in `block in height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:153:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cells.rb:153:in `height'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `block in row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `map'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:366:in `row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:454:in `set_row_heights'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:137:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (299.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:28:57) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (20.8ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:28:57', `perishable_token` = 'MEYazqHDmR0EMtWMNLOQ', `updated_at` = '2012-11-14 23:28:57' WHERE `id` = 1[0m
  [4;36;1mSQL (65.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (3.3ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.6ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Table's width was set too small to contain its contents (min width 568, requested 560)) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :cell_style => { :overflow => :shrink_to_fit, :border_width => 0,:size => 9, :padding => [ 3, 10, 3, 10]},
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 }
19:           

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:330:in `column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:445:in `set_column_widths'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:136:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (114.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:29:27) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (34.9ms)[0m   [0mUPDATE `users` SET `last_request_at` = '2012-11-14 23:29:27', `perishable_token` = '3PPazOKo8YwoiapcQR', `updated_at` = '2012-11-14 23:29:27' WHERE `id` = 1[0m
  [4;36;1mSQL (55.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mInvoice Load (0.4ms)[0m   [0mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;35;1mInvoiceProduct Load (0.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (Prawn::Errors::UnrecognizedTableContent) on line #22 of app/views/invoices/pdf.pdf.prawn:
19:           
20:     end
21:     pdf.bounding_box [25,pdf.bounds.top-528], :width => 560 do
22:       pdf.table @totals,
23:           :font_size  => 9, 
24:           :column_widths => { 0 => 360, 1 => 100, 2 => 100 },
25:           :align              => {0 => :right, 1 => :right, 2 => :right},

    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table/cell.rb:129:in `make'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:385:in `block (2 levels) in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:384:in `block in make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `each_with_index'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:383:in `make_cells'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:127:in `initialize'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `new'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/table.rb:26:in `table'
    app/views/invoices/pdf.pdf.prawn:22:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `call'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/prawn-1.0.0.rc1/lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:21:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (181.2ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:34:27) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (20.7ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-14 23:34:27', `perishable_token` = 'jp3Lvzmfiv0bEp30I5ZR', `updated_at` = '2012-11-14 23:34:27' WHERE `id` = 1[0m
  [4;35;1mSQL (63.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;36;1mInvoiceProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf

ActionView::TemplateError (undefined method `font_size=' for #<Prawn::Table:0x007f027c356198>) on line #16 of app/views/invoices/pdf.pdf.prawn:
13:     pdf.draw_text @invoice.client.cuit, :at => [350,pdf.bounds.top-163]
14: 
15:     pdf.bounding_box [10,pdf.bounds.top-233], :width => 560 do
16:       pdf.table @products,
17:           :font_size  => 9, 
18:           :column_widths => { 0 => 60, 1 => 348, 2 => 70, 3 => 90 },
19:           :align              => {0 => :right, 1 => :left, 2 => :right, 3 => :right},

    prawn (0.12.0) lib/prawn/table.rb:125:in `block in initialize'
    prawn (0.12.0) lib/prawn/table.rb:125:in `each'
    prawn (0.12.0) lib/prawn/table.rb:125:in `initialize'
    prawn (0.12.0) lib/prawn/table.rb:25:in `new'
    prawn (0.12.0) lib/prawn/table.rb:25:in `table'
    app/views/invoices/pdf.pdf.prawn:16:in `block (2 levels) in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `call'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:194:in `init_bounding_box'
    prawn (0.12.0) lib/prawn/document/bounding_box.rb:158:in `bounding_box'
    app/views/invoices/pdf.pdf.prawn:15:in `block in _run_prawn_app47views47invoices47pdf46pdf46prawn'
    app/views/invoices/pdf.pdf.prawn:2:in `times'
    app/views/invoices/pdf.pdf.prawn:2:in `_run_prawn_app47views47invoices47pdf46pdf46prawn'
    <internal:prelude>:10:in `synchronize'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/diego/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (120.5ms)
Rendered rescues/_request_and_response (18.2ms)
Rendering rescues/layout (internal_server_error)
ActiveScaffold: extending RESTful routes for products
ActiveScaffold: extending RESTful routes for clients
ActiveScaffold: extending RESTful routes for invoices
ActiveScaffold: extending RESTful routes for invoice_products
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#pdf (for 127.0.0.1 at 2012-11-14 20:42:27) [GET]
  Parameters: {"controller"=>"invoices", "action"=>"pdf", "id"=>"2"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (19.0ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-14 23:42:27', `perishable_token` = 'pJ69kYMJ6541bHKbnJ2r', `updated_at` = '2012-11-14 23:42:27' WHERE `id` = 1[0m
  [4;35;1mSQL (60.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (0.4ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 2) [0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 137) [0m
  [4;36;1mInvoiceProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 2) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
Rendering invoices/pdf
Completed in 528ms (View: 272, DB: 83) | 200 OK [http://localhost/invoices/pdf/2]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at /home/diego/.rvm/gems/ruby-1.9.3-p194@rails2.3.14/gems/actionpack-2.3.14/lib/action_controller/middleware_stack.rb:72)


Processing InvoicesController#edit (for 127.0.0.1 at 2012-11-14 20:43:39) [GET]
  Parameters: {"_method"=>"get", "adapter"=>"_list_inline_adapter", "controller"=>"invoices", "action"=>"edit", "id"=>"4"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (18.4ms)[0m   [0;1mUPDATE `users` SET `last_request_at` = '2012-11-14 23:43:39', `perishable_token` = 'ABbRfkAEF4bB5jws0Pi', `updated_at` = '2012-11-14 23:43:39' WHERE `id` = 1[0m
  [4;35;1mSQL (148.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mInvoice Load (97.0ms)[0m   [0;1mSELECT * FROM `invoices` WHERE (`invoices`.`id` = 4) [0m
Rendered _form_attribute (14.2ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (2.0ms)
client
as_invoices-update-4-form
  [4;35;1mClient Load (57.9ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 178) [0m
  [4;36;1mClient Load (21.4ms)[0m   [0;1mSELECT * FROM `clients` [0m
Rendered _form_attribute (276.0ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (2.0ms)
  [4;35;1mInvoiceProduct Load (40.4ms)[0m   [0mSELECT * FROM `invoice_products` WHERE (`invoice_products`.invoice_id = 4) [0m
Rendered _horizontal_subform_header (158.0ms)
Rendered _form_attribute (5.5ms)
product
as_invoices-update-4-form
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) [0m
  [4;35;1mProduct Load (58.0ms)[0m   [0mSELECT * FROM `products` [0m
Rendered _form_attribute (114.1ms)
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (2.2ms)
Rendered _horizontal_subform_record (158.3ms)
Rendered _form_attribute (2.0ms)
product
as_invoices-update-4-form
  [4;36;1mProduct Load (1.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` [0m
Rendered _form_attribute (51.8ms)
Rendered _form_attribute (3.3ms)
Rendered _form_attribute (3.2ms)
Rendered _form_attribute (3.1ms)
Rendered _horizontal_subform_record (95.7ms)
Rendered _form_attribute (3.2ms)
product
as_invoices-update-4-form
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` [0m
Rendered _form_attribute (51.1ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.9ms)
Rendered _horizontal_subform_record (88.8ms)
Rendered invoices/_form_association_footer (1.5ms)
Rendered _horizontal_subform (599.7ms)
Rendered invoices/_form_association (705.7ms)
Rendered _form (1197.2ms)
Rendered _update_form (1350.3ms)
Rendered _messages (3.5ms)
Rendered _list_inline_adapter (136.7ms)
Completed in 1993ms (View: 169, DB: 0) | 200 OK [http://localhost/invoices/4/edit?_method=get&adapter=_list_inline_adapter]
